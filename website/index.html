<!DOCTYPE html>

<!-- I want to die -->

<html>
  
<head>
    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.0.min.js"></script>
<script type="text/javascript" src="smoothie.js"></script>
    
<link rel="stylesheet" type="text/css" href="mystyles.css" media="screen" />
 
<?php include ('Read2.php') ?>
<script type="text/javascript">

   
var h = 0; 
var t = 0;  
var xmlhttp;        
var series = new TimeSeries();
      
setInterval(function(){  
   	
	var n = Math.random().toFixed(2); 
  	
	//document.getElementById("height").innerHTML = n;
  
	document.getElementById("height").innerHTML = t; 
	document.getElementById("speed").innerHTML = t;
	document.getElementById("temp").innerHTML = t;
	AjaxFun();

 	
	series.append(new Date().getTime(), t);
	}, 300);     
	function createTimeline() {
        
		var chart = new SmoothieChart();
        
		chart.addTimeSeries(series, { strokeStyle: 'rgba(0, 255, 255, 1)', fillStyle: 'rgba(0, 255, 255, 0.2)', lineWidth: 4 });
        
		chart.streamTo(document.getElementById("chart"), 500);
      
}
   
function AjaxFun(){
        xmlhttp = new XMLHttpRequest();
	h = "AJAX"; 
	xmlhttp.open("GET", "Read2.php", true);
	//h = 43; 
	xmlhttp.onreadystatechange = handleRequestStateChange; 
	//h = -1; 
	xmlhttp.send();
}

var handleRequestStateChange = function(){ 
	h = "Requested"; 
  if(xmlhttp.readyState == 4 && xmlhttp.status==200){
	h = "Connected"; 
	t = xmlhttp.responseText; 
  }
   else{
	h = "Not Ready"; 
	t = "Check Status Too"; 
	}
}

</script>
  
</head>
  
<body onload="createTimeline()">

<h1 align = "Center">Drone Dis-play</h1>
	
<table align = "center" style = "width:70%">
  <tr>
    <th>Height:</th>
<th id = "height">Height</th>
    <th>meters</th>
  </tr>
  <tr>
    <th>Speed:</th>
    <th id = "speed"></th>
    <th>m/s</th>
  </tr>
  <tr>
    <th>Temp:</th>
    <th id = "temp"></th>
    <th>celsius</th>
  </tr>
</table>
<br>
       
<canvas id="chart" width="1250" height="250"></canvas>

  
</body>

</html>
